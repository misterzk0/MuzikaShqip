!function(t,e){function n(n,i){function o(t){return gt.preferFlash&&ut&&!gt.ignoreFlash&&gt.flash[t]!==e&&gt.flash[t]}function a(t){return function(e){var n=this._s;return n&&n._a?e=t.call(this,e):(gt._wD(n&&n.id?n.id+": Ignoring "+e.type:"HTML5::Ignoring "+e.type),e=null),e}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,r,u,l,d,h,c,p,f,m,g,_,y,v,w,T,M,b,O,D,P,L,S,E,I,F,A,H,C,R,x,k,N,U,W,q,j,B,V,z,X,Y,Q,G,K,$,J,Z,tt,et,nt,it,ot,at,st,rt,ut,lt,dt,ht,ct,pt,ft,mt,gt=this,_t=null,yt=null,vt=navigator.userAgent,wt=t.location.href.toString(),Tt=document,Mt=[],bt=!0,Ot=!1,Dt=!1,Pt=!1,Lt=!1,St=!1,Et=0,It=["log","info","warn","error"],Ft=null,At=null,Ht=!1,Ct=!1,Rt=0,xt=null,kt=[],Nt=null,Ut=Array.prototype.slice,Wt=!1,qt=0,jt=vt.match(/(ipad|iphone|ipod)/i),Bt=vt.match(/android/i),Vt=vt.match(/msie|trident/i),zt=vt.match(/webkit/i),Xt=vt.match(/safari/i)&&!vt.match(/chrome/i),Yt=vt.match(/opera/i),Qt=vt.match(/(mobile|pre\/|xoom)/i)||jt||Bt,Gt=!wt.match(/usehtml5audio/i)&&!wt.match(/sm2-ignorebadua/i)&&Xt&&!vt.match(/silk/i)&&vt.match(/OS\sX\s10_6_([3-7])/i),Kt=t.console!==e&&console.log!==e,$t=Tt.hasFocus!==e?Tt.hasFocus():null,Jt=Xt&&(Tt.hasFocus===e||!Tt.hasFocus()),Zt=!Jt,te=/(mp3|mp4|mpa|m4a|m4b)/i,ee=Tt.location?Tt.location.protocol.match(/http/i):null,ne=ee?"":"//",ie=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,oe="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),ae=new RegExp("\\.("+oe.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ee,et=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];var se;try{se=Audio!==e&&(Yt&&opera!==e&&10>opera.version()?new Audio(null):new Audio).canPlayType!==e}catch(t){se=!1}this.hasHTML5=se,this.setup=function(t){var n=!gt.url;return t!==e&&Pt&&Nt&&gt.ok()&&(t.flashVersion!==e||t.url!==e||t.html5Test!==e)&&z(U("setupLate")),g(t),Wt||(Qt?gt.setupOptions.ignoreMobileRestrictions&&!gt.setupOptions.forceUseGlobalHTML5Audio||(kt.push(P.globalHTML5),Wt=!0):gt.setupOptions.forceUseGlobalHTML5Audio&&(kt.push(P.globalHTML5),Wt=!0)),!mt&&Qt&&(gt.setupOptions.ignoreMobileRestrictions?kt.push(P.ignoreMobile):(gt.setupOptions.useHTML5Audio&&!gt.setupOptions.preferFlash||gt._wD(P.mobileUA),gt.setupOptions.useHTML5Audio=!0,gt.setupOptions.preferFlash=!1,jt?gt.ignoreFlash=!0:(Bt&&!vt.match(/android\s2\.3/i)||!Bt)&&(gt._wD(P.globalHTML5),Wt=!0))),t&&(n&&I&&t.url!==e&&gt.beginDelayedInit(),I||t.url===e||"complete"!==Tt.readyState||setTimeout(S,1)),mt=!0,gt},this.supported=this.ok=function(){return Nt?Pt&&!Lt:gt.useHTML5Audio&&gt.hasHTML5},this.getMovie=function(e){return r(e)||Tt[e]||t[e]},this.createSound=function(t,n){function i(){return a=B(a),gt.sounds[a.id]=new s(a),gt.soundIDs.push(a.id),gt.sounds[a.id]}var o,a;if(o=null,o="soundManager.createSound(): "+U(Pt?"notOK":"notReady"),!Pt||!gt.ok())return z(o),!1;if(n!==e&&(t={id:t,url:n}),a=m(t),a.url=K(a.url),a.id===e&&(a.id=gt.setupOptions.idPrefix+qt++),a.id.toString().charAt(0).match(/^[0-9]$/)&&gt._wD("soundManager.createSound(): "+U("badID",a.id),2),gt._wD("soundManager.createSound(): "+a.id+(a.url?" ("+a.url+")":""),1),X(a.id,!0))return gt._wD("soundManager.createSound(): "+a.id+" exists",1),gt.sounds[a.id];if(Z(a))o=i(),gt.html5Only||gt._wD(a.id+": Using HTML5"),o._setup_html5(a);else{if(gt.html5Only)return gt._wD(a.id+": No HTML5 support for this sound, and no Flash. Exiting."),i();if(gt.html5.usingFlash&&a.url&&a.url.match(/data:/i))return gt._wD(a.id+": data: URIs not supported via Flash. Exiting."),i();8<h&&(null===a.isMovieStar&&(a.isMovieStar=!!(a.serverURL||a.type&&a.type.match(ie)||a.url&&a.url.match(ae))),a.isMovieStar&&(gt._wD("soundManager.createSound(): using MovieStar handling"),1<a.loops&&p("noNSLoop"))),a=V(a,"soundManager.createSound(): "),o=i(),8===h?yt._createSound(a.id,a.loops||1,a.usePolicyFile):(yt._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,!!a.isMovieStar&&a.bufferTime,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(o.connected=!0,a.onconnect&&a.onconnect.apply(o))),a.serverURL||!a.autoLoad&&!a.autoPlay||o.load(a)}return!a.serverURL&&a.autoPlay&&o.play(),o},this.destroySound=function(t,e){if(!X(t))return!1;var n,i=gt.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<gt.soundIDs.length;n++)if(gt.soundIDs[n]===t){gt.soundIDs.splice(n,1);break}return e||i.destruct(!0),delete gt.sounds[t],!0},this.load=function(t,e){return!!X(t)&&gt.sounds[t].load(e)},this.unload=function(t){return!!X(t)&&gt.sounds[t].unload()},this.onposition=this.onPosition=function(t,e,n,i){return!!X(t)&&gt.sounds[t].onposition(e,n,i)},this.clearOnPosition=function(t,e,n){return!!X(t)&&gt.sounds[t].clearOnPosition(e,n)},this.start=this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!Pt||!gt.ok())return z("soundManager.play(): "+U(Pt?"notOK":"notReady")),!1;if(X(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(gt._wD('soundManager.play(): Attempting to create "'+t+'"',1),e.id=t,n=gt.createSound(e).play())}return null===n&&(n=gt.sounds[t].play(e)),n},this.setPlaybackRate=function(t,e,n){return!!X(t)&&gt.sounds[t].setPlaybackRate(e,n)},this.setPosition=function(t,e){return!!X(t)&&gt.sounds[t].setPosition(e)},this.stop=function(t){return!!X(t)&&(gt._wD("soundManager.stop("+t+")",1),gt.sounds[t].stop())},this.stopAll=function(){var t;gt._wD("soundManager.stopAll()",1);for(t in gt.sounds)gt.sounds.hasOwnProperty(t)&&gt.sounds[t].stop()},this.pause=function(t){return!!X(t)&&gt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=gt.soundIDs.length-1;0<=t;t--)gt.sounds[gt.soundIDs[t]].pause()},this.resume=function(t){return!!X(t)&&gt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=gt.soundIDs.length-1;0<=t;t--)gt.sounds[gt.soundIDs[t]].resume()},this.togglePause=function(t){return!!X(t)&&gt.sounds[t].togglePause()},this.setPan=function(t,e){return!!X(t)&&gt.sounds[t].setPan(e)},this.setVolume=function(t,n){var i,o;if(t!==e&&!isNaN(t)&&n===e){for(i=0,o=gt.soundIDs.length;i<o;i++)gt.sounds[gt.soundIDs[i]].setVolume(t);return!1}return!!X(t)&&gt.sounds[t].setVolume(n)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!X(t)&&(gt._wD('soundManager.mute(): Muting "'+t+'"'),gt.sounds[t].mute());for(gt._wD("soundManager.mute(): Muting all sounds"),e=gt.soundIDs.length-1;0<=e;e--)gt.sounds[gt.soundIDs[e]].mute();return gt.muted=!0},this.muteAll=function(){gt.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return!!X(t)&&(gt._wD('soundManager.unmute(): Unmuting "'+t+'"'),gt.sounds[t].unmute());for(gt._wD("soundManager.unmute(): Unmuting all sounds"),t=gt.soundIDs.length-1;0<=t;t--)gt.sounds[gt.soundIDs[t]].unmute();return gt.muted=!1,!0},this.unmuteAll=function(){gt.unmute()},this.toggleMute=function(t){return!!X(t)&&gt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return yt&&8!==h&&(t=parseInt(yt._getMemoryUse(),10)),t},this.disable=function(n){var i;if(n===e&&(n=!1),Lt)return!1;for(Lt=!0,p("shutdown",1),i=gt.soundIDs.length-1;0<=i;i--)x(gt.sounds[gt.soundIDs[i]]);return x(gt),f(n),st.remove(t,"load",w),!0},this.canPlayMIME=function(t){var e;return gt.hasHTML5&&(e=tt({type:t})),!e&&Nt&&(e=t&&gt.ok()?!!(8<h&&t.match(ie)||t.match(gt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return gt.hasHTML5&&(e=tt({url:t})),!e&&Nt&&(e=t&&gt.ok()?!!t.match(gt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===e||!t.type||!gt.canPlayMIME(t.type))||gt.canPlayURL(t.href)},this.getSoundById=function(t,e){if(!t)return null;var n=gt.sounds[t];return n||e||gt._wD('soundManager.getSoundById(): Sound "'+t+'" not found.',2),n},this.onready=function(e,n){if("function"!=typeof e)throw U("needFunction","onready");return Pt&&gt._wD(U("queue","onready")),n||(n=t),y("onready",e,n),v(),!0},this.ontimeout=function(e,n){if("function"!=typeof e)throw U("needFunction","ontimeout");return Pt&&gt._wD(U("queue","ontimeout")),n||(n=t),y("ontimeout",e,n),v({type:"ontimeout"}),!0},this._writeDebug=function(t,n){var i,o;return!(!gt.setupOptions.debugMode||!(Kt&&gt.useConsole&&(n&&"object"==typeof n?console.log(t,n):It[n]!==e?console[It[n]](t):console.log(t),gt.consoleOnly))&&(!(i=r("soundmanager-debug"))||(o=Tt.createElement("div"),0==++Et%2&&(o.className="sm2-alt"),n=n===e?0:parseInt(n,10),o.appendChild(Tt.createTextNode(t)),n&&(2<=n&&(o.style.fontWeight="bold"),3===n&&(o.style.color="#ff3333")),i.insertBefore(o,i.firstChild),0)))},-1!==wt.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){t.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var t,e;for(p("currentObj",1),t=0,e=gt.soundIDs.length;t<e;t++)gt.sounds[gt.soundIDs[t]]._debug()},this.reboot=function(e,n){gt.soundIDs.length&&gt._wD("Destroying "+gt.soundIDs.length+" SMSound object"+(1!==gt.soundIDs.length?"s":"")+"...");var i,o,a;for(i=gt.soundIDs.length-1;0<=i;i--)gt.sounds[gt.soundIDs[i]].destruct();if(yt)try{Vt&&(At=yt.innerHTML),Ft=yt.parentNode.removeChild(yt)}catch(t){p("badRemove",2)}if(At=Ft=Nt=yt=null,gt.enabled=I=Pt=Ht=Ct=Ot=Dt=Lt=Wt=gt.swfLoaded=!1,gt.soundIDs=[],gt.sounds={},qt=0,mt=!1,e)Mt=[];else for(i in Mt)if(Mt.hasOwnProperty(i))for(o=0,a=Mt[i].length;o<a;o++)Mt[i][o].fired=!1;return n||gt._wD("soundManager: Rebooting..."),gt.html5={usingFlash:null},gt.flash={},gt.html5Only=!1,gt.ignoreFlash=!1,t.setTimeout(function(){n||gt.beginDelayedInit()},20),gt},this.reset=function(){return p("reset"),gt.reboot(!0,!0)},this.getMoviePercent=function(){return yt&&"PercentLoaded"in yt?yt.PercentLoaded():null},this.beginDelayedInit=function(){St=!0,S(),setTimeout(function(){return!Ct&&(A(),L(),Ct=!0)},20),T()},this.destruct=function(){gt._wD("soundManager.destruct()"),gt.disable(!0)},s=function(t){var n,i,o,a,s,r,u,l,d,f,g,_=this,y=!1,v=[],w=0,T=null;i=n=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=m(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,g=!this.url,this.id3={},this._debug=function(){gt._wD(_.id+": Merged options:",_.options)},this.load=function(t){var n;if(t!==e?_._iO=m(t,_.options):(t=_.options,_._iO=t,T&&T!==_.url&&(p("manURL"),_._iO.url=_.url,_.url=null)),_._iO.url||(_._iO.url=_.url),_._iO.url=K(_._iO.url),n=_.instanceOptions=_._iO,gt._wD(_.id+": load ("+n.url+")"),!n.url&&!_.url)return gt._wD(_.id+": load(): url is unassigned. Exiting.",2),_;if(_.isHTML5||8!==h||_.url||n.autoPlay||gt._wD(_.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),n.url===_.url&&0!==_.readyState&&2!==_.readyState)return p("onURL",1),3===_.readyState&&n.onload&&ft(_,function(){n.onload.apply(_,[!!_.duration])}),_;if(_.loaded=!1,_.readyState=1,_.playState=0,_.id3={},Z(n))_._setup_html5(n)._called_load?gt._wD(_.id+": Ignoring request to load again"):(_._html5_canplay=!1,_.url!==n.url&&(gt._wD(p("manURL")+": "+n.url),_._a.src=n.url,_.setPosition(0)),_._a.autobuffer="auto",_._a.preload="auto",_._a._called_load=!0);else{if(gt.html5Only)return gt._wD(_.id+": No flash support. Exiting."),_;if(_._iO.url&&_._iO.url.match(/data:/i))return gt._wD(_.id+": data: URIs not supported via Flash. Exiting."),_;try{_.isHTML5=!1,_._iO=V(B(n)),_._iO.autoPlay&&(_._iO.position||_._iO.from)&&(gt._wD(_.id+": Disabling autoPlay because of non-zero offset case"),_._iO.autoPlay=!1),n=_._iO,8===h?yt._load(_.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):yt._load(_.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(t){p("smError",2),c("onload",!1),H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return _.url=n.url,_},this.unload=function(){return 0!==_.readyState&&(gt._wD(_.id+": unload()"),_.isHTML5?(r(),_._a&&(_._a.pause(),T=it(_._a))):8===h?yt._unload(_.id,"about:blank"):yt._unload(_.id),o()),_},this.destruct=function(t){gt._wD(_.id+": Destruct"),_.isHTML5?(r(),_._a&&(_._a.pause(),it(_._a),Wt||s(),_._a._s=null,_._a=null)):(_._iO.onfailure=null,yt._destroySound(_.id)),t||gt.destroySound(_.id,!0)},this.start=this.play=function(t,n){var i,o,a,s,r;if(o=!0,i=_.id+": play(): ",n=n===e||n,t||(t={}),_.url&&(_._iO.url=_.url),_._iO=m(_._iO,_.options),_._iO=m(t,_._iO),_._iO.url=K(_._iO.url),_.instanceOptions=_._iO,!_.isHTML5&&_._iO.serverURL&&!_.connected)return _.getAutoPlay()||(gt._wD(i+" Netstream not connected yet - setting autoPlay"),_.setAutoPlay(!0)),_;if(Z(_._iO)&&(_._setup_html5(_._iO),u()),1===_.playState&&!_.paused){if(!(o=_._iO.multiShot))return gt._wD(i+"Already playing (one-shot)",1),_.isHTML5&&_.setPosition(_._iO.position),_;gt._wD(i+"Already playing (multi-shot)",1)}if(t.url&&t.url!==_.url&&(_.readyState||_.isHTML5||8!==h||!g?_.load(_._iO):g=!1),_.loaded)gt._wD(i.substr(0,i.lastIndexOf(":")));else if(0===_.readyState){if(gt._wD(i+"Attempting to load"),_.isHTML5||gt.html5Only){if(!_.isHTML5)return gt._wD(i+"Unsupported type. Exiting."),_;_.load(_._iO)}else _._iO.autoPlay=!0,_.load(_._iO);_.instanceOptions=_._iO}else{if(2===_.readyState)return gt._wD(i+"Could not load - exiting",2),_;gt._wD(i+"Loading - attempting to play...")}return!_.isHTML5&&9===h&&0<_.position&&_.position===_.duration&&(gt._wD(i+"Sound at end, resetting to position: 0"),t.position=0),_.paused&&0<=_.position&&(!_._iO.serverURL||0<_.position)?(gt._wD(i+"Resuming from paused state",1),_.resume()):(_._iO=m(t,_._iO),(!_.isHTML5&&null!==_._iO.position&&0<_._iO.position||null!==_._iO.from&&0<_._iO.from||null!==_._iO.to)&&0===_.instanceCount&&0===_.playState&&!_._iO.serverURL&&(o=function(){_._iO=m(t,_._iO),_.play(_._iO)},_.isHTML5&&!_._html5_canplay?(gt._wD(i+"Beginning load for non-zero offset case"),_.load({_oncanplay:o})):_.isHTML5||_.loaded||_.readyState&&2===_.readyState||(gt._wD(i+"Preloading for non-zero offset case"),_.load({onload:o})),_._iO=f()),(!_.instanceCount||_._iO.multiShotEvents||_.isHTML5&&_._iO.multiShot&&!Wt||!_.isHTML5&&8<h&&!_.getAutoPlay())&&_.instanceCount++,_._iO.onposition&&0===_.playState&&l(_),_.playState=1,_.paused=!1,_.position=_._iO.position===e||isNaN(_._iO.position)?0:_._iO.position,_.isHTML5||(_._iO=V(B(_._iO))),_._iO.onplay&&n&&(_._iO.onplay.apply(_),y=!0),_.setVolume(_._iO.volume,!0),_.setPan(_._iO.pan,!0),1!==_._iO.playbackRate&&_.setPlaybackRate(_._iO.playbackRate),_.isHTML5?2>_.instanceCount?(u(),i=_._setup_html5(),_.setPosition(_._iO.position),i.play()):(gt._wD(_.id+": Cloning Audio() for instance #"+_.instanceCount+"..."),a=new Audio(_._iO.url),s=function(){st.remove(a,"ended",s),_._onfinish(_),it(a),a=null},r=function(){st.remove(a,"canplay",r);try{a.currentTime=_._iO.position/1e3}catch(t){z(_.id+": multiShot play() failed to apply position of "+_._iO.position/1e3)}a.play()},st.add(a,"ended",s),_._iO.volume!==e&&(a.volume=Math.max(0,Math.min(1,_._iO.volume/100))),_.muted&&(a.muted=!0),_._iO.position?st.add(a,"canplay",r):a.play()):(o=yt._start(_.id,_._iO.loops||1,9===h?_.position:_.position/1e3,_._iO.multiShot||!1),9!==h||o||(gt._wD(i+"No sound hardware, or 32-sound ceiling hit",2),_._iO.onplayerror&&_._iO.onplayerror.apply(_)))),_},this.stop=function(t){var e=_._iO;return 1===_.playState&&(gt._wD(_.id+": stop()"),_._onbufferchange(0),_._resetOnPosition(0),_.paused=!1,_.isHTML5||(_.playState=0),d(),e.to&&_.clearOnPosition(e.to),_.isHTML5?_._a&&(t=_.position,_.setPosition(0),_.position=t,_._a.pause(),_.playState=0,_._onTimer(),r()):(yt._stop(_.id,t),e.serverURL&&_.unload()),_.instanceCount=0,_._iO={},e.onstop&&e.onstop.apply(_)),_},this.setAutoPlay=function(t){gt._wD(_.id+": Autoplay turned "+(t?"on":"off")),_._iO.autoPlay=t,_.isHTML5||(yt._setAutoPlay(_.id,t),t&&!_.instanceCount&&1===_.readyState&&(_.instanceCount++,gt._wD(_.id+": Incremented instance count to "+_.instanceCount)))},this.getAutoPlay=function(){return _._iO.autoPlay},this.setPlaybackRate=function(t){var e=Math.max(.5,Math.min(4,t));if(e!==t&&gt._wD(_.id+": setPlaybackRate("+t+"): limiting rate to "+e,2),_.isHTML5)try{_._iO.playbackRate=e,_._a.playbackRate=e}catch(t){gt._wD(_.id+": setPlaybackRate("+e+") failed: "+t.message,2)}return _},this.setPosition=function(t){t===e&&(t=0);var n=_.isHTML5?Math.max(t,0):Math.min(_.duration||_._iO.duration,Math.max(t,0));if(_.position=n,t=_.position/1e3,_._resetOnPosition(_.position),_._iO.position=n,_.isHTML5){if(_._a){if(_._html5_canplay){if(_._a.currentTime.toFixed(3)!==t.toFixed(3)){gt._wD(_.id+": setPosition("+t+")");try{_._a.currentTime=t,(0===_.playState||_.paused)&&_._a.pause()}catch(e){gt._wD(_.id+": setPosition("+t+") failed: "+e.message,2)}}}else if(t)return gt._wD(_.id+": setPosition("+t+"): Cannot seek yet, sound not ready",2),_;_.paused&&_._onTimer(!0)}}else t=9===h?_.position:t,_.readyState&&2!==_.readyState&&yt._setPosition(_.id,t,_.paused||!_.playState,_._iO.multiShot);return _},this.pause=function(t){return _.paused||0===_.playState&&1!==_.readyState?_:(gt._wD(_.id+": pause()"),_.paused=!0,_.isHTML5?(_._setup_html5().pause(),r()):(t||t===e)&&yt._pause(_.id,_._iO.multiShot),_._iO.onpause&&_._iO.onpause.apply(_),_)},this.resume=function(){var t=_._iO;return _.paused?(gt._wD(_.id+": resume()"),_.paused=!1,_.playState=1,_.isHTML5?(_._setup_html5().play(),u()):(t.isMovieStar&&!t.serverURL&&_.setPosition(_.position),yt._pause(_.id,t.multiShot)),!y&&t.onplay?(t.onplay.apply(_),y=!0):t.onresume&&t.onresume.apply(_),_):_},this.togglePause=function(){return gt._wD(_.id+": togglePause()"),0===_.playState?(_.play({position:9!==h||_.isHTML5?_.position/1e3:_.position}),_):(_.paused?_.resume():_.pause(),_)},this.setPan=function(t,n){return t===e&&(t=0),n===e&&(n=!1),_.isHTML5||yt._setPan(_.id,t),_._iO.pan=t,n||(_.pan=t,_.options.pan=t),_},this.setVolume=function(t,n){return t===e&&(t=100),n===e&&(n=!1),_.isHTML5?_._a&&(gt.muted&&!_.muted&&(_.muted=!0,_._a.muted=!0),_._a.volume=Math.max(0,Math.min(1,t/100))):yt._setVolume(_.id,gt.muted&&!_.muted||_.muted?0:t),_._iO.volume=t,n||(_.volume=t,_.options.volume=t),_},this.mute=function(){return _.muted=!0,_.isHTML5?_._a&&(_._a.muted=!0):yt._setVolume(_.id,0),_},this.unmute=function(){_.muted=!1;var t=_._iO.volume!==e;return _.isHTML5?_._a&&(_._a.muted=!1):yt._setVolume(_.id,t?_._iO.volume:_.options.volume),_},this.toggleMute=function(){return _.muted?_.unmute():_.mute()},this.onposition=this.onPosition=function(t,n,i){return v.push({position:parseInt(t,10),method:n,scope:i!==e?i:_,fired:!1}),_},this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),!isNaN(t))for(n=0;n<v.length;n++)t!==v[n].position||e&&e!==v[n].method||(v[n].fired&&w--,v.splice(n,1))},this._processOnPosition=function(){var t,e;if(!(t=v.length)||!_.playState||w>=t)return!1;for(--t;0<=t;t--)!(e=v[t]).fired&&_.position>=e.position&&(e.fired=!0,w++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,n;if(!(e=v.length))return!1;for(--e;0<=e;e--)(n=v[e]).fired&&t<=n.position&&(n.fired=!1,w--);return!0},f=function(){var t,e,n=_._iO,i=n.from,o=n.to;return e=function(){gt._wD(_.id+': "To" time of '+o+" reached."),_.clearOnPosition(o,e),_.stop()},t=function(){gt._wD(_.id+': Playing "from" '+i),null===o||isNaN(o)||_.onPosition(o,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},l=function(){var t,e=_._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&_.onPosition(parseInt(t,10),e[t])},d=function(){var t,e=_._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&_.clearOnPosition(parseInt(t,10))},u=function(){_.isHTML5&&Y(_)},r=function(){_.isHTML5&&Q(_)},(o=function(t){t||(v=[],w=0),y=!1,_._hasTimer=null,_._a=null,_._html5_canplay=!1,_.bytesLoaded=null,_.bytesTotal=null,_.duration=_._iO&&_._iO.duration?_._iO.duration:null,_.durationEstimate=null,_.buffered=[],_.eqData=[],_.eqData.left=[],_.eqData.right=[],_.failures=0,_.isBuffering=!1,_.instanceOptions={},_.instanceCount=0,_.loaded=!1,_.metadata={},_.readyState=0,_.muted=!1,_.paused=!1,_.peakData={left:0,right:0},_.waveformData={left:[],right:[]},_.playState=0,_.position=null,_.id3={}})(),this._onTimer=function(t){var e,o=!1,a={};return(_._hasTimer||t)&&_._a&&(t||(0<_.playState||1===_.readyState)&&!_.paused)&&((e=_._get_html5_duration())!==n&&(n=e,_.duration=e,o=!0),_.durationEstimate=_.duration,(e=1e3*_._a.currentTime||0)!==i&&(i=e,o=!0),(o||t)&&_._whileplaying(e,a,a,a,a)),o},this._get_html5_duration=function(){var t=_._iO;return(t=_._a&&_._a.duration?1e3*_._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){!t.loop&&1<e&&gt._wD("Note: Native HTML5 looping is infinite.",1),t.loop=1<e?"loop":""},this._setup_html5=function(t){t=m(_._iO,t);var e,n=Wt?_t:_._a,i=decodeURI(t.url);if(Wt?i===decodeURI(rt)&&(e=!0):i===decodeURI(T)&&(e=!0),n){if(n._s)if(Wt)n._s&&n._s.playState&&!e&&n._s.stop();else if(!Wt&&i===decodeURI(T))return _._apply_loop(n,t.loops),n;e||(T&&o(!1),n.src=t.url,rt=T=_.url=t.url,n._called_load=!1)}else t.autoLoad||t.autoPlay?(_._a=new Audio(t.url),_._a.load()):_._a=Yt&&10>opera.version()?new Audio(null):new Audio,n=_._a,n._called_load=!1,Wt&&(_t=n);return _.isHTML5=!0,_._a=n,n._s=_,a(),_._apply_loop(n,t.loops),t.autoLoad||t.autoPlay?_.load():(n.autobuffer=!1,n.preload="auto"),n},a=function(){if(_._a._added_events)return!1;var t;_._a._added_events=!0;for(t in ht)ht.hasOwnProperty(t)&&_._a&&_._a.addEventListener(t,ht[t],!1);return!0},s=function(){var t;gt._wD(_.id+": Removing event listeners"),_._a._added_events=!1;for(t in ht)ht.hasOwnProperty(t)&&_._a&&_._a.removeEventListener(t,ht[t],!1)},this._onload=function(t){var e=!!t||!_.isHTML5&&8===h&&_.duration;return t=_.id+": ",gt._wD(t+(e?"onload()":"Failed to load / invalid sound?"+(_.duration?" -":" Zero-length duration reported.")+" ("+_.url+")"),e?1:2),e||_.isHTML5||(!0===gt.sandbox.noRemote&&gt._wD(t+U("noNet"),1),!0===gt.sandbox.noLocal&&gt._wD(t+U("noLocal"),1)),_.loaded=e,_.readyState=e?3:2,_._onbufferchange(0),e||_.isHTML5||_._onerror(),_._iO.onload&&ft(_,function(){_._iO.onload.apply(_,[e])}),!0},this._onerror=function(t,e){_._iO.onerror&&ft(_,function(){_._iO.onerror.apply(_,[t,e])})},this._onbufferchange=function(t){return!(0===_.playState||t&&_.isBuffering||!t&&!_.isBuffering||(_.isBuffering=1===t,_._iO.onbufferchange&&(gt._wD(_.id+": Buffer state change: "+t),_._iO.onbufferchange.apply(_,[t])),0))},this._onsuspend=function(){return _._iO.onsuspend&&(gt._wD(_.id+": Playback suspended"),_._iO.onsuspend.apply(_)),!0},this._onfailure=function(t,e,n){_.failures++,gt._wD(_.id+": Failure ("+_.failures+"): "+t),_._iO.onfailure&&1===_.failures?_._iO.onfailure(t,e,n):gt._wD(_.id+": Ignoring failure")},this._onwarning=function(t,e,n){_._iO.onwarning&&_._iO.onwarning(t,e,n)},this._onfinish=function(){var t=_._iO.onfinish;_._onbufferchange(0),_._resetOnPosition(0),_.instanceCount&&(_.instanceCount--,_.instanceCount||(d(),_.playState=0,_.paused=!1,_.instanceCount=0,_.instanceOptions={},_._iO={},r(),_.isHTML5&&(_.position=0)),_.instanceCount&&!_._iO.multiShotEvents||!t||(gt._wD(_.id+": onfinish()"),ft(_,function(){t.apply(_)})))},this._whileloading=function(t,e,n,i){var o=_._iO;_.bytesLoaded=t,_.bytesTotal=e,_.duration=Math.floor(n),_.bufferLength=i,_.durationEstimate=_.isHTML5||o.isMovieStar?_.duration:o.duration?_.duration>o.duration?_.duration:o.duration:parseInt(_.bytesTotal/_.bytesLoaded*_.duration,10),_.isHTML5||(_.buffered=[{start:0,end:_.duration}]),(3!==_.readyState||_.isHTML5)&&o.whileloading&&o.whileloading.apply(_)},this._whileplaying=function(t,n,i,o,a){var s=_._iO;return!isNaN(t)&&null!==t&&(_.position=Math.max(0,t),_._processOnPosition(),!_.isHTML5&&8<h&&(s.usePeakData&&n!==e&&n&&(_.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==e&&i&&(_.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&a!==e&&a&&a.leftEQ&&(t=a.leftEQ.split(","),_.eqData=t,_.eqData.left=t,a.rightEQ!==e&&a.rightEQ&&(_.eqData.right=a.rightEQ.split(",")))),1===_.playState&&(_.isHTML5||8!==h||_.position||!_.isBuffering||_._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(_)),!0)},this._oncaptiondata=function(t){gt._wD(_.id+": Caption data received."),_.captiondata=t,_._iO.oncaptiondata&&_._iO.oncaptiondata.apply(_,[t])},this._onmetadata=function(t,e){gt._wD(_.id+": Metadata received.");var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];_.metadata=o,_._iO.onmetadata&&_._iO.onmetadata.call(_,_.metadata)},this._onid3=function(t,e){gt._wD(_.id+": ID3 data received.");var n,i,o=[];for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];_.id3=m(_.id3,o),_._iO.onid3&&_._iO.onid3.apply(_)},this._onconnect=function(t){gt._wD(_.id+": "+((t=1===t)?"Connected.":"Failed to connect? - "+_.url),t?1:2),(_.connected=t)&&(_.failures=0,X(_.id)&&(_.getAutoPlay()?_.play(e,_.getAutoPlay()):_._iO.autoLoad&&_.load()),_._iO.onconnect&&_._iO.onconnect.apply(_,[t]))},this._ondataerror=function(t){0<_.playState&&(gt._wD(_.id+": Data error: "+t),_._iO.ondataerror&&_._iO.ondataerror.apply(_))},this._debug()},F=function(){return Tt.body||Tt.getElementsByTagName("div")[0]},r=function(t){return Tt.getElementById(t)},m=function(t,n){var i,o,a=t||{};i=n===e?gt.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&a[o]===e&&(a[o]="object"!=typeof i[o]||null===i[o]?i[o]:m(a[o],i[o]));return a},ft=function(e,n){e.isHTML5||8!==h?n():t.setTimeout(n,0)},_={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},g=function(t,n){var i,o=!0,a=n!==e,s=gt.setupOptions;if(t===e){o=[];for(i in s)s.hasOwnProperty(i)&&o.push(i);for(i in _)_.hasOwnProperty(i)&&("object"==typeof gt[i]?o.push(i+": {...}"):gt[i]instanceof Function?o.push(i+": function() {...}"):o.push(i));return gt._wD(U("setup",o.join(", "))),!1}for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)a&&_[n]!==e?gt[n][i]=t[i]:s[i]!==e?(gt.setupOptions[i]=t[i],gt[i]=t[i]):_[i]===e?(z(U(gt[i]===e?"setupUndef":"setupError",i),2),o=!1):gt[i]instanceof Function?gt[i].apply(gt,t[i]instanceof Array?t[i]:[t[i]]):gt[i]=t[i];else{if(_[i]!==e)return g(t[i],i);z(U(gt[i]===e?"setupUndef":"setupError",i),2),o=!1}return o},st=function(){function e(t){var e=(t=Ut.call(t)).length;return i?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function n(t,e){var n=t.shift(),a=[o[e]];i?n[a](t[0],t[1]):n[a].apply(n,t)}var i=t.attachEvent,o={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(e(arguments),"add")},remove:function(){n(e(arguments),"remove")}}}(),ht={abort:a(function(){gt._wD(this._s.id+": abort")}),canplay:a(function(){var t,n=this._s;if(!n._html5_canplay){if(n._html5_canplay=!0,gt._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===e||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==t){gt._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){gt._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}}),canplaythrough:a(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:a(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(gt._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:a(function(){var t=this._s;gt._wD(t.id+": ended"),t._onfinish()}),error:a(function(){var t=et[this.error.code]||null;gt._wD(this._s.id+": HTML5 error, code "+this.error.code+(t?" ("+t+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,t)}),loadeddata:a(function(){var t=this._s;gt._wD(t.id+": loadeddata"),t._loaded||Xt||(t.duration=t._get_html5_duration())}),loadedmetadata:a(function(){gt._wD(this._s.id+": loadedmetadata")}),loadstart:a(function(){gt._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){gt._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:a(function(t){var e,n,i,o=this._s;e=0;var a="progress"===t.type,s=t.target.buffered,r=t.loaded||0,u=t.total||1;if(o.buffered=[],s&&s.length){for(e=0,n=s.length;e<n;e++)o.buffered.push({start:1e3*s.start(e),end:1e3*s.end(e)});if(e=1e3*(s.end(0)-s.start(0)),r=Math.min(1,e/(1e3*t.target.duration)),a&&1<s.length){for(i=[],n=s.length,e=0;e<n;e++)i.push(1e3*t.target.buffered.start(e)+"-"+1e3*t.target.buffered.end(e));gt._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}a&&!isNaN(r)&&gt._wD(this._s.id+": progress, "+Math.floor(100*r)+"% loaded")}isNaN(r)||(o._whileloading(r,u,o._get_html5_duration()),r&&u&&r===u&&ht.canplaythrough.call(this,t))}),ratechange:a(function(){gt._wD(this._s.id+": ratechange")}),suspend:a(function(t){var e=this._s;gt._wD(this._s.id+": suspend"),ht.progress.call(this,t),e._onsuspend()}),stalled:a(function(){gt._wD(this._s.id+": stalled")}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var t=this._s;gt._wD(this._s.id+": waiting"),t._onbufferchange(1)})},Z=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&!(t.serverURL||t.type&&o(t.type))&&(t.type?tt({type:t.type}):tt({url:t.url})||gt.html5Only||t.url.match(/data:/i))},it=function(t){var n;return t&&(n=Xt?"about:blank":gt.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=n,t._called_unload!==e&&(t._called_load=!1)),Wt&&(rt=null),n},tt=function(t){if(!gt.useHTML5Audio||!gt.hasHTML5)return!1;var n,i=t.url||null,a=gt.audioFormats;if((t=t.type||null)&&gt.html5[t]!==e)return gt.html5[t]&&!o(t);if(!nt){nt=[];for(n in a)a.hasOwnProperty(n)&&(nt.push(n),a[n].related&&(nt=nt.concat(a[n].related)));nt=new RegExp("\\.("+nt.join("|")+")(\\?.*)?$","i")}return(n=i?i.toLowerCase().match(nt):null)&&n.length?n=n[1]:t&&(i=t.indexOf(";"),n=(-1!==i?t.substr(0,i):t).substr(6)),n&&gt.html5[n]!==e?i=gt.html5[n]&&!o(n):(t="audio/"+n,i=gt.html5.canPlayType({type:t}),i=(gt.html5[n]=i)&&gt.html5[t]&&!o(t)),i},at=function(){function t(t){var e,n=e=!1;if(!s||"function"!=typeof s.canPlayType)return e;if(t instanceof Array){for(a=0,e=t.length;a<e;a++)(gt.html5[t[a]]||s.canPlayType(t[a]).match(gt.html5Test))&&(n=!0,gt.html5[t[a]]=!0,gt.flash[t[a]]=!!t[a].match(te));e=n}else t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(t),e=!(!t||!t.match(gt.html5Test));return e}if(!gt.useHTML5Audio||!gt.hasHTML5)return Nt=gt.html5.usingFlash=!0,!1;var n,i,o,a,s=Audio!==e?Yt&&10>opera.version()?new Audio(null):new Audio:null,r={};o=gt.audioFormats;for(n in o)if(o.hasOwnProperty(n)&&(i="audio/"+n,r[n]=t(o[n].type),r[i]=r[n],n.match(te)?(gt.flash[n]=!0,gt.flash[i]=!0):(gt.flash[n]=!1,gt.flash[i]=!1),o[n]&&o[n].related))for(a=o[n].related.length-1;0<=a;a--)r["audio/"+o[n].related[a]]=r[n],gt.html5[o[n].related[a]]=r[n],gt.flash[o[n].related[a]]=r[n];return r.canPlayType=s?t:null,gt.html5=m(gt.html5,r),gt.html5.usingFlash=J(),Nt=gt.html5.usingFlash,!0},P={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+Tt.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},U=function(){var t,e,n,i;if(t=Ut.call(arguments),e=t.shift(),(i=P&&P[e]?P[e]:"")&&t&&t.length)for(e=0,n=t.length;e<n;e++)i=i.replace("%s",t[e]);return i},B=function(t){return 8===h&&1<t.loops&&t.stream&&(p("as2loop"),t.stream=!1),t},V=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(gt._wD((e||"")+U("policy")),t.usePolicyFile=!0),t},z=function(t){Kt&&console.warn!==e?console.warn(t):gt._wD(t)},u=function(){return!1},x=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=u)},k=function(t){t===e&&(t=!1),(Lt||t)&&gt.disable(t)},N=function(t){if(t)if(t.match(/\.swf(\?.*)?$/i)){if(t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+gt.movieURL,gt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},O=function(){8!==(h=parseInt(gt.flashVersion,10))&&9!==h&&(gt._wD(U("badFV",h,8)),gt.flashVersion=h=8);var t=gt.debugMode||gt.debugFlash?"_debug.swf":".swf";gt.useHTML5Audio&&!gt.html5Only&&gt.audioFormats.mp4.required&&9>h&&(gt._wD(U("needfl9")),gt.flashVersion=h=9),gt.version=gt.versionNumber+(gt.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<h?(gt.defaultOptions=m(gt.defaultOptions,gt.flash9Options),gt.features.buffering=!0,gt.defaultOptions=m(gt.defaultOptions,gt.movieStarOptions),gt.filePatterns.flash9=new RegExp("\\.(mp3|"+oe.join("|")+")(\\?.*)?$","i"),gt.features.movieStar=!0):gt.features.movieStar=!1,gt.filePattern=gt.filePatterns[8!==h?"flash9":"flash8"],gt.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),gt.features.peakData=gt.features.waveformData=gt.features.eqData=8<h},C=function(t,e){yt&&yt._setPolling(t,e)},R=function(){if(gt.debugURLParam.test(wt)&&(gt.setupOptions.debugMode=gt.debugMode=!0),!r(gt.debugID)){var t,e,n,i;if(!(!gt.debugMode||r(gt.debugID)||Kt&&gt.useConsole&&gt.consoleOnly)){(t=Tt.createElement("div")).id=gt.debugID+"-toggle",e={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},t.appendChild(Tt.createTextNode("-")),t.onclick=j,t.title="Toggle SM2 debug console",vt.match(/msie 6/i)&&(t.style.position="absolute",t.style.cursor="hand");for(i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);if(e=Tt.createElement("div"),e.id=gt.debugID,e.style.display=gt.debugMode?"block":"none",gt.debugMode&&!r(t.id)){try{(n=F()).appendChild(t)}catch(t){throw Error(U("domError")+" \n"+t.toString())}n.appendChild(e)}}}},X=this.getSoundById,p=function(t,e){return t?gt._wD(U(t),e):""},j=function(){var t=r(gt.debugID),e=r(gt.debugID+"-toggle");t&&(bt?(e.innerHTML="+",t.style.display="none"):(e.innerHTML="-",t.style.display="block"),bt=!bt)},c=function(n,i,o){if(t.sm2Debugger!==e)try{sm2Debugger.handleEvent(n,i,o)}catch(t){return!1}return!0},q=function(){var t=[];return gt.debugMode&&t.push("sm2_debug"),gt.debugFlash&&t.push("flash_debug"),gt.useHighPerformance&&t.push("high_performance"),t.join(" ")},W=function(){var t=U("fbHandler"),e=gt.getMoviePercent(),n={type:"FLASHBLOCK"};gt.html5Only||(gt.ok()?(gt.didFlashBlock&&gt._wD(t+": Unblocked"),gt.oMC&&(gt.oMC.className=[q(),"movieContainer","swf_loaded"+(gt.didFlashBlock?" swf_unblocked":"")].join(" "))):(Nt&&(gt.oMC.className=q()+" movieContainer "+(null===e?"swf_timedout":"swf_error"),gt._wD(t+": "+U("fbTimeout")+(e?" ("+U("fbLoaded")+")":""))),gt.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:n}),H(n)))},y=function(t,n,i){Mt[t]===e&&(Mt[t]=[]),Mt[t].push({method:n,scope:i||null,fired:!1})},v=function(t){if(t||(t={type:gt.ok()?"onready":"ontimeout"}),!Pt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(gt.ok()||Lt&&!t.ignoreInit))return!1;var e,n={success:t&&t.ignoreInit?gt.ok():!Lt},i=t&&t.type?Mt[t.type]||[]:[],o=[],a=(n=[n],Nt&&!gt.ok());for(t.error&&(n[0].error=t.error),t=0,e=i.length;t<e;t++)!0!==i[t].fired&&o.push(i[t]);if(o.length)for(t=0,e=o.length;t<e;t++)o[t].method.apply(o[t].scope?o[t].scope:this,n),a||(o[t].fired=!0);return!0},w=function(){t.setTimeout(function(){gt.useFlashBlock&&W(),v(),"function"==typeof gt.onload&&(p("onload",1),gt.onload.apply(t),p("onloadOK",1)),gt.waitForWindowLoad&&st.add(t,"load",w)},1)},lt=function(){if(ut!==e)return ut;var n,i,o=!1,a=navigator,s=t.ActiveXObject;try{i=a.plugins}catch(t){i=void 0}if(i&&i.length)(a=a.mimeTypes)&&a["application/x-shockwave-flash"]&&a["application/x-shockwave-flash"].enabledPlugin&&a["application/x-shockwave-flash"].enabledPlugin.description&&(o=!0);else if(s!==e&&!vt.match(/MSAppHost/i)){try{n=new s("ShockwaveFlash.ShockwaveFlash")}catch(t){n=null}o=!!n}return ut=o},J=function(){var t,e,n=gt.audioFormats;if(jt&&vt.match(/os (1|2|3_0|3_1)\s/i)?(gt.hasHTML5=!1,gt.html5Only=!0,gt.oMC&&(gt.oMC.style.display="none")):gt.useHTML5Audio&&(gt.html5&&gt.html5.canPlayType||(gt._wD("SoundManager: No HTML5 Audio() support detected."),gt.hasHTML5=!1),Gt&&gt._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ut?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),gt.useHTML5Audio&&gt.hasHTML5)for(e in $=!0,n)n.hasOwnProperty(e)&&n[e].required&&(gt.html5.canPlayType(n[e].type)?gt.preferFlash&&(gt.flash[e]||gt.flash[n[e].type])&&(t=!0):($=!1,t=!0));return gt.ignoreFlash&&(t=!1,$=!0),gt.html5Only=gt.hasHTML5&&gt.useHTML5Audio&&!t,!gt.html5Only},K=function(t){var e,n,i=0;if(t instanceof Array){for(e=0,n=t.length;e<n;e++)if(t[e]instanceof Object){if(gt.canPlayMIME(t[e].type)){i=e;break}}else if(gt.canPlayURL(t[e])){i=e;break}t[i].url&&(t[i]=t[i].url),t=t[i]}return t},Y=function(t){t._hasTimer||(t._hasTimer=!0,!Qt&&gt.html5PollingInterval&&(null===xt&&0===Rt&&(xt=setInterval(G,gt.html5PollingInterval)),Rt++))},Q=function(t){t._hasTimer&&(t._hasTimer=!1,!Qt&&gt.html5PollingInterval&&Rt--)},G=function(){var t;if(null===xt||Rt)for(t=gt.soundIDs.length-1;0<=t;t--)gt.sounds[gt.soundIDs[t]].isHTML5&&gt.sounds[gt.soundIDs[t]]._hasTimer&&gt.sounds[gt.soundIDs[t]]._onTimer();else clearInterval(xt),xt=null},H=function(n){n=n!==e?n:{},"function"==typeof gt.onerror&&gt.onerror.apply(t,[{type:n.type!==e?n.type:null}]),n.fatal!==e&&n.fatal&&gt.disable()},dt=function(){if(Gt&&lt()){var t,e,n=gt.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(gt._wD("soundManager: Using flash fallback for "+e+" format"),gt.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;0<=t;t--)gt.html5[n[e].related[t]]=!1}},this._setSandboxType=function(t){var n=gt.sandbox;n.type=t,n.description=n.types[n.types[t]!==e?t:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,p("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(t){if(!gt.swfLoaded){var e;c("swf",!0),c("flashtojs",!0),gt.swfLoaded=!0,Jt=!1,Gt&&dt(),t&&t.replace(/\+dev/i,"")===gt.versionNumber.replace(/\+dev/i,"")?setTimeout(d,Vt?100:1):(e='soundManager: Fatal: JavaScript file build "'+gt.versionNumber+'" does not match Flash SWF build "'+t+'" at '+gt.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(e)},0))}},A=function(t,n){function i(){var t,e=[],n=[];t="SoundManager "+gt.version+(!gt.html5Only&&gt.useHTML5Audio?gt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),gt.html5Only?gt.html5PollingInterval&&e.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"):(gt.preferFlash&&e.push("preferFlash"),gt.useHighPerformance&&e.push("useHighPerformance"),gt.flashPollingInterval&&e.push("flashPollingInterval ("+gt.flashPollingInterval+"ms)"),gt.html5PollingInterval&&e.push("html5PollingInterval ("+gt.html5PollingInterval+"ms)"),gt.wmode&&e.push("wmode ("+gt.wmode+")"),gt.debugFlash&&e.push("debugFlash"),gt.useFlashBlock&&e.push("flashBlock")),e.length&&(n=n.concat([e.join(" + ")])),gt._wD(t+(n.length?" + "+n.join(", "):""),1),ct()}function o(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(Ot&&Dt)return!1;if(gt.html5Only)return O(),i(),gt.oMC=r(gt.movieID),d(),Dt=Ot=!0,!1;var a,s,u,l=n||gt.url,h=gt.altURL||l,c=F(),p=q(),f=null;if(f=(f=Tt.getElementsByTagName("html")[0])&&f.dir&&f.dir.match(/rtl/i),t=t===e?gt.id:t,O(),gt.url=N(ee?l:h),n=gt.url,gt.wmode=!gt.wmode&&gt.useHighPerformance?"transparent":gt.wmode,null!==gt.wmode&&(vt.match(/msie 8/i)||!Vt&&!gt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(kt.push(P.spcWmode),gt.wmode=null),c={name:t,id:t,src:n,quality:"high",allowScriptAccess:gt.allowScriptAccess,bgcolor:gt.bgColor,pluginspage:ne+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:gt.wmode,hasPriority:"true"},gt.debugFlash&&(c.FlashVars="debug=1"),gt.wmode||delete c.wmode,Vt)l=Tt.createElement("div"),s=['<object id="'+t+'" data="'+n+'" type="'+c.type+'" title="'+c.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",n),o("AllowScriptAccess",gt.allowScriptAccess),o("quality",c.quality),gt.wmode?o("wmode",gt.wmode):"",o("bgcolor",gt.bgColor),o("hasPriority","true"),gt.debugFlash?o("FlashVars",c.FlashVars):"","</object>"].join("");else for(a in l=Tt.createElement("embed"),c)c.hasOwnProperty(a)&&l.setAttribute(a,c[a]);if(R(),p=q(),c=F())if(gt.oMC=r(gt.movieID)||Tt.createElement("div"),gt.oMC.id)u=gt.oMC.className,gt.oMC.className=(u?u+" ":"movieContainer")+(p?" "+p:""),gt.oMC.appendChild(l),Vt&&(a=gt.oMC.appendChild(Tt.createElement("div")),a.className="sm2-object-box",a.innerHTML=s),Dt=!0;else{if(gt.oMC.id=gt.movieID,gt.oMC.className="movieContainer "+p,a=p=null,gt.useFlashBlock||(gt.useHighPerformance?p={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(p={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},f&&(p.left=Math.abs(parseInt(p.left,10))+"px"))),zt&&(gt.oMC.style.zIndex=1e4),!gt.debugFlash)for(u in p)p.hasOwnProperty(u)&&(gt.oMC.style[u]=p[u]);try{Vt||gt.oMC.appendChild(l),c.appendChild(gt.oMC),Vt&&(a=gt.oMC.appendChild(Tt.createElement("div")),a.className="sm2-object-box",a.innerHTML=s),Dt=!0}catch(t){throw Error(U("domError")+" \n"+t.toString())}}return Ot=!0,i(),!0},L=function(){return gt.html5Only?(A(),!1):!yt&&(gt.url?((yt=gt.getMovie(gt.id))||(Ft?(Vt?gt.oMC.innerHTML=At:gt.oMC.appendChild(Ft),Ft=null,Ot=!0):A(gt.id,gt.url),yt=gt.getMovie(gt.id)),"function"==typeof gt.oninitmovie&&setTimeout(gt.oninitmovie,1),pt(),!0):(p("noURL"),!1))},T=function(){setTimeout(M,1e3)},b=function(){t.setTimeout(function(){z("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),gt.setup({preferFlash:!1}).reboot(),gt.didFlashBlock=!0,gt.beginDelayedInit()},1)},M=function(){var e,n=!1;gt.url&&!Ht&&(Ht=!0,st.remove(t,"load",T),ut&&Jt&&!$t?p("waitFocus"):(Pt||0<(e=gt.getMoviePercent())&&100>e&&(n=!0),setTimeout(function(){e=gt.getMoviePercent(),n?(Ht=!1,gt._wD(U("waitSWF")),t.setTimeout(T,1)):(Pt||(gt._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(gt.debugFlash?" "+U("checkSWF"):""),2),!ee&&e&&(p("localFail",2),gt.debugFlash||p("tryDebug",2)),0===e&&gt._wD(U("swf404",gt.url),1),c("flashtojs",!1,": Timed out"+(ee?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Pt&&Zt&&(null===e?gt.useFlashBlock||0===gt.flashLoadTimeout?(gt.useFlashBlock&&W(),p("waitForever")):!gt.useFlashBlock&&$?b():(p("waitForever"),v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===gt.flashLoadTimeout?p("waitForever"):!gt.useFlashBlock&&$?b():k(!0)))},gt.flashLoadTimeout)))},D=function(){return $t||!Jt?(st.remove(t,"focus",D),!0):($t=Zt=!0,p("gotFocus"),Ht=!1,T(),st.remove(t,"focus",D),!0)},pt=function(){kt.length&&(gt._wD("SoundManager 2: "+kt.join(" "),1),kt=[])},ct=function(){pt();var t,e=[];if(gt.useHTML5Audio&&gt.hasHTML5){for(t in gt.audioFormats)gt.audioFormats.hasOwnProperty(t)&&e.push(t+" = "+gt.html5[t]+(!gt.html5[t]&&Nt&&gt.flash[t]?" (using flash)":gt.preferFlash&&gt.flash[t]&&Nt?" (preferring flash)":gt.html5[t]?"":" ("+(gt.audioFormats[t].required?"required, ":"")+"and no flash support)"));gt._wD("SoundManager 2 HTML5 support: "+e.join(", "),1)}},f=function(e){if(Pt)return!1;if(gt.html5Only)return p("sm2Loaded",1),Pt=!0,w(),c("onload",!0),!0;var n,i=!0;return gt.useFlashBlock&&gt.flashLoadTimeout&&!gt.getMoviePercent()||(Pt=!0),n={type:!ut&&Nt?"NO_FLASH":"INIT_TIMEOUT"},gt._wD("SoundManager 2 "+(Lt?"failed to load":"loaded")+" ("+(Lt?"Flash security/load error":"OK")+") "+String.fromCharCode(Lt?10006:10003),Lt?2:1),Lt||e?(gt.useFlashBlock&&gt.oMC&&(gt.oMC.className=q()+" "+(null===gt.getMoviePercent()?"swf_timedout":"swf_error")),v({type:"ontimeout",error:n,ignoreInit:!0}),c("onload",!1),H(n),i=!1):c("onload",!0),Lt||(gt.waitForWindowLoad&&!St?(p("waitOnload"),st.add(t,"load",w)):(gt.waitForWindowLoad&&St&&p("docLoaded"),w())),i},l=function(){var t,n=gt.setupOptions;for(t in n)n.hasOwnProperty(t)&&(gt[t]===e?gt[t]=n[t]:gt[t]!==n[t]&&(gt.setupOptions[t]=gt[t]))},d=function(){if(Pt)return p("didInit"),!1;if(gt.html5Only)return Pt||(st.remove(t,"load",gt.beginDelayedInit),gt.enabled=!0,f()),!0;L();try{yt._externalInterfaceTest(!1),C(!0,gt.flashPollingInterval||(gt.useHighPerformance?10:50)),gt.debugMode||yt._disableDebug(),gt.enabled=!0,c("jstoflash",!0),gt.html5Only||st.add(t,"unload",u)}catch(t){return gt._wD("js/flash exception: "+t.toString()),c("jstoflash",!1),H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),k(!0),f(),!1}return f(),st.remove(t,"load",gt.beginDelayedInit),!0},S=function(){return!I&&(I=!0,l(),R(),!ut&&gt.hasHTML5&&(gt._wD("SoundManager 2: No Flash detected"+(gt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),gt.setup({useHTML5Audio:!0,preferFlash:!1})),at(),!ut&&Nt&&(kt.push(P.needFlash),gt.setup({flashLoadTimeout:1})),Tt.removeEventListener&&Tt.removeEventListener("DOMContentLoaded",S,!1),L(),!0)},ot=function(){return"complete"===Tt.readyState&&(S(),Tt.detachEvent("onreadystatechange",ot)),!0},E=function(){St=!0,S(),st.remove(t,"load",E)},lt(),st.add(t,"focus",D),st.add(t,"load",T),st.add(t,"load",E),Tt.addEventListener?Tt.addEventListener("DOMContentLoaded",S,!1):Tt.attachEvent?Tt.attachEvent("onreadystatechange",ot):(c("onload",!1),H({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!t||!t.document)throw Error("SoundManager requires a browser with window and document objects.");var i=null;t.SM2_DEFER!==e&&SM2_DEFER||(i=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd&&define(function(){return{constructor:n,getInstance:function(e){return!t.soundManager&&e instanceof Function&&(e=e(n))instanceof n&&(t.soundManager=e),t.soundManager}}}),t.SoundManager=n,t.soundManager=i}(window),function(t,e,n,i){"use strict";function o(t,e,n){return setTimeout(l(t,n),e)}function a(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var o;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(o=0;o<t.length;)e.call(n,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function r(e,n,i){var o="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=t.console&&(t.console.warn||t.console.log);return a&&a.call(t.console,o,i),e.apply(this,arguments)}}function u(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&$(i,n)}function l(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==tt?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function c(t,e,n){s(g(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(g(e),function(e){t.removeEventListener(e,n,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function v(t,e,n){for(var i=[],o=[],a=0;a<t.length;){var s=e?t[a][e]:t[a];_(o,s)<0&&i.push(t[a]),o[a]=s,a++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,o,a=e[0].toUpperCase()+e.slice(1),s=0;s<J.length;){if(n=J[s],(o=n?n+a:e)in t)return o;s++}return i}function T(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function M(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function b(t,e,n){var o=n.pointers.length,a=n.changedPointers.length,s=e&ht&&o-a==0,r=e&(ct|pt)&&o-a==0;n.isFirst=!!s,n.isFinal=!!r,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,o=e.pointers,a=o.length;n.firstInput||(n.firstInput=O(e)),a>1&&!n.firstMultiple?n.firstMultiple=O(e):1===a&&(n.firstMultiple=!1);var s=n.firstInput,r=n.firstMultiple,u=r?r.center:s.center,l=e.center=D(o);e.timeStamp=it(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=E(u,l),e.distance=S(u,l),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};e.eventType!==ht&&a.eventType!==ct||(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var d=P(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=nt(d.x)>nt(d.y)?d.x:d.y,e.scale=r?function(t,e){return S(o[0],o[1],bt)/S(t[0],t[1],bt)}(r.pointers):1,e.rotation=r?function(t,e){return E(o[1],o[0],bt)+E(t[1],t[0],bt)}(r.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,o,a,s,r=t.lastInterval||e,u=e.timeStamp-r.timeStamp;if(e.eventType!=pt&&(u>dt||r.velocity===i)){var l=e.deltaX-r.deltaX,d=e.deltaY-r.deltaY,h=P(u,l,d);o=h.x,a=h.y,n=nt(h.x)>nt(h.y)?h.x:h.y,s=L(l,d),t.lastInterval=e}else n=r.velocity,o=r.velocityX,a=r.velocityY,s=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=a,e.direction=s}(n,e);var h=t.element;f(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function O(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:et(t.pointers[n].clientX),clientY:et(t.pointers[n].clientY)},n++;return{timeStamp:it(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var n=0,i=0,o=0;e>o;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:et(n/e),y:et(i/e)}}function P(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?ft:nt(t)>=nt(e)?0>t?mt:gt:0>e?_t:yt}function S(t,e,n){n||(n=Mt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function E(t,e,n){n||(n=Mt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function I(){this.evEl=Dt,this.evWin=Pt,this.pressed=!1,M.apply(this,arguments)}function F(){this.evEl=Et,this.evWin=It,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function A(){this.evTarget=At,this.evWin=Ht,this.started=!1,M.apply(this,arguments)}function H(){this.evTarget=Rt,this.targetIds={},M.apply(this,arguments)}function C(){M.apply(this,arguments);var t=l(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new I(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function R(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,o=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(o,xt)}}function x(t,e){this.manager=t,this.set(e)}function k(t){this.options=$({},this.defaults,t||{}),this.id=st++,this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=Wt,this.simultaneous={},this.requireFail=[]}function N(t){return t&zt?"cancel":t&Bt?"end":t&jt?"move":t&qt?"start":""}function U(t){return t==yt?"down":t==_t?"up":t==mt?"left":t==gt?"right":""}function W(t,e){var n=e.manager;return n?n.get(t):t}function q(){k.apply(this,arguments)}function j(){q.apply(this,arguments),this.pX=null,this.pY=null}function B(){q.apply(this,arguments)}function V(){k.apply(this,arguments),this._timer=null,this._input=null}function z(){q.apply(this,arguments)}function X(){q.apply(this,arguments)}function Y(){k.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(t,e){return e=e||{},e.recognizers=h(e.recognizers,Q.defaults.preset),new G(t,e)}function G(t,e){this.options=$({},Q.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(ut?F:lt?H:rt?C:I))(t,b)}(this),this.touchAction=new x(this,this.options.touchAction),K(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function K(t,e){var n=t.element;if(n.style){var i;s(t.options.cssProps,function(o,a){i=w(n.style,a),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}var $,J=["","webkit","Moz","MS","ms","o"],Z=e.createElement("div"),tt="function",et=Math.round,nt=Math.abs,it=Date.now;$="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==i&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e}:Object.assign;var ot=r(function(t,e,n){for(var o=Object.keys(e),a=0;a<o.length;)(!n||n&&t[o[a]]===i)&&(t[o[a]]=e[o[a]]),a++;return t},"extend","Use `assign`."),at=r(function(t,e){return ot(t,e,!0)},"merge","Use `assign`."),st=1,rt="ontouchstart"in t,ut=w(t,"PointerEvent")!==i,lt=rt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dt=25,ht=1,ct=4,pt=8,ft=1,mt=2,gt=4,_t=8,yt=16,vt=mt|gt,wt=_t|yt,Tt=vt|wt,Mt=["x","y"],bt=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&c(this.element,this.evEl,this.domHandler),this.evTarget&&c(this.target,this.evTarget,this.domHandler),this.evWin&&c(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)}};var Ot={mousedown:ht,mousemove:2,mouseup:ct},Dt="mousedown",Pt="mousemove mouseup";u(I,M,{handler:function(t){var e=Ot[t.type];e&ht&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ct),this.pressed&&(e&ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Lt={pointerdown:ht,pointermove:2,pointerup:ct,pointercancel:pt,pointerout:pt},St={2:"touch",3:"pen",4:"mouse",5:"kinect"},Et="pointerdown",It="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Et="MSPointerDown",It="MSPointerMove MSPointerUp MSPointerCancel"),u(F,M,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=Lt[i],a=St[t.pointerType]||t.pointerType,s="touch"==a,r=_(e,t.pointerId,"pointerId");o&ht&&(0===t.button||s)?0>r&&(e.push(t),r=e.length-1):o&(ct|pt)&&(n=!0),0>r||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(r,1))}});var Ft={touchstart:ht,touchmove:2,touchend:ct,touchcancel:pt},At="touchstart",Ht="touchstart touchmove touchend touchcancel";u(A,M,{handler:function(t){var e=Ft[t.type];if(e===ht&&(this.started=!0),this.started){var n=(function(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(ct|pt)&&(n=v(n.concat(i),"identifier",!0)),[n,i]}).call(this,t,e);e&(ct|pt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ct={touchstart:ht,touchmove:2,touchend:ct,touchcancel:pt},Rt="touchstart touchmove touchend touchcancel";u(H,M,{handler:function(t){var e=Ct[t.type],n=(function(t,e){var n=y(t.touches),i=this.targetIds;if(e&(2|ht)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,a,s=y(t.changedTouches),r=[],u=this.target;if(a=n.filter(function(t){return f(t.target,u)}),e===ht)for(o=0;o<a.length;)i[a[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&r.push(s[o]),e&(ct|pt)&&delete i[s[o].identifier],o++;return r.length?[v(a.concat(r),"identifier",!0),r]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var xt=2500;u(C,M,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&ht?(this.primaryTouch=e.changedPointers[0].identifier,R.call(this,e)):t&(ct|pt)&&R.call(this,e)}).call(this,e,n);else if(i&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],a=Math.abs(e-o.x),s=Math.abs(n-o.y);if(25>=a&&25>=s)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var kt=w(Z.style,"touchAction"),Nt=kt!==i,Ut=function(){if(!Nt)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}();x.prototype={set:function(t){"compute"==t&&(t=this.compute()),Nt&&this.manager.element.style&&Ut[t]&&(this.manager.element.style[kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(m(t,"none"))return"none";var e=m(t,"pan-x"),n=m(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":m(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=m(i,"none")&&!Ut.none,a=m(i,"pan-y")&&!Ut["pan-y"],s=m(i,"pan-x")&&!Ut["pan-x"];if(o&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return s&&a?void 0:o||a&&n&vt||s&&n&wt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Wt=1,qt=2,jt=4,Bt=8,Vt=Bt,zt=16;k.prototype={defaults:{},set:function(t){return $(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=W(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=W(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=W(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=W(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;Bt>i&&e(n.options.event+N(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=Bt&&e(n.options.event+N(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Wt)))return!1;t++}return!0},recognize:function(t){var e=$({},t);return d(this.options.enable,[this,e])?(this.state&(Vt|zt|32)&&(this.state=Wt),this.state=this.process(e),void(this.state&(qt|jt|Bt|zt)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(q,k,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(qt|jt),o=this.attrTest(t);return i&&(n&pt||!o)?e|zt:i||o?n&ct?e|Bt:e&qt?e|jt:qt:32}}),u(j,q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Tt},getTouchAction:function(){var t=this.options.direction,e=[];return t&vt&&e.push("pan-y"),t&wt&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,a=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&vt?(o=0===a?ft:0>a?mt:gt,n=a!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?ft:0>s?_t:yt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return q.prototype.attrTest.call(this,t)&&(this.state&qt||!(this.state&qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(B,q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&qt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),u(V,k,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(ct|pt)&&!a)this.reset();else if(t.eventType&ht)this.reset(),this._timer=o(function(){this.state=Vt,this.tryEmit()},e.time,this);else if(t.eventType&ct)return Vt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Vt&&(t&&t.eventType&ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),u(z,q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&qt)}}),u(X,q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:vt|wt,pointers:1},getTouchAction:function(){return j.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(vt|wt)?e=t.overallVelocity:n&vt?e=t.overallVelocityX:n&wt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&nt(e)>this.options.velocity&&t.eventType&ct},emit:function(t){var e=U(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(Y,k,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&ht&&0===this.count)return this.failTimeout();if(i&&a&&n){if(t.eventType!=ct)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||S(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=Vt,this.tryEmit()},e.interval,this),qt):Vt}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[z,{enable:!1}],[B,{enable:!1},["rotate"]],[X,{direction:vt}],[j,{direction:vt},["swipe"]],[Y],[Y,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},G.prototype={set:function(t){return $(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Vt)&&(o=e.curRecognizer=null);for(var a=0;a<i.length;)n=i[a],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(qt|jt|Bt)&&(o=e.curRecognizer=n),a++}},get:function(t){if(t instanceof k)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return s(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return s(g(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}(t,n);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](n),o++}},destroy:function(){this.element&&K(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},$(Q,{INPUT_START:ht,INPUT_MOVE:2,INPUT_END:ct,INPUT_CANCEL:pt,STATE_POSSIBLE:Wt,STATE_BEGAN:qt,STATE_CHANGED:jt,STATE_ENDED:Bt,STATE_RECOGNIZED:Vt,STATE_CANCELLED:zt,STATE_FAILED:32,DIRECTION_NONE:ft,DIRECTION_LEFT:mt,DIRECTION_RIGHT:gt,DIRECTION_UP:_t,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:vt,DIRECTION_VERTICAL:wt,DIRECTION_ALL:Tt,Manager:G,Input:M,TouchAction:x,TouchInput:H,MouseInput:I,PointerEventInput:F,TouchMouseInput:C,SingleTouchInput:A,Recognizer:k,AttrRecognizer:q,Tap:Y,Pan:j,Swipe:X,Pinch:B,Rotate:z,Press:V,on:c,off:p,each:s,merge:at,extend:ot,assign:$,inherit:u,bindFn:l,prefixed:w}),("undefined"!=typeof t?t:"undefined"!=typeof self?self:{}).Hammer=Q,"function"==typeof define&&define.amd?define(function(){return Q}):"undefined"!=typeof module&&module.exports?module.exports=Q:t.Hammer=Q}(window,document);